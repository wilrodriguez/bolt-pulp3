# [String] <repo-shortname>:
#
#   pulp_remote_options: [Hash] Key/value pairs passed directly to the Pulp3
#                         RPM Remote API when creating a new RPM Remote (mirror)
#   rpms:                [Array] A list of RPM metadata hashes
#
#     Mandatory keys for each rpm:
#
#        name: [String] RPM 'name' field (the 'N' in NEVRA)
#
#     Optional keys for rpms:
#
#        version:   [String,Array] Expression(s) to constrain the RPM version.
#                   Contraint expressions follow the same conventions as
#                   Bundler. (ex: '~> 6.8.0', '= 5.2.1', ['>= 4.2.0', '< 5.0'])
#
#       direct_url: [String] When defined, download RPM directly from URL,
#                   overriding the repo mirror
---
# NOTE: Something about the repository at https://yum.puppet.com/puppet6
# prevents Pulp mirrors from fetching its RPM artifacts 99% of the time.
#
# As a workaround, all Puppet RPMs currently include a `direct_url` to a
# specific package/version.  This prevents Pulp from mirroring the upstream
# repo at all, and works like the old `packages.yaml` process.
#
# NOTE NOTE: While using direct_urls (and no Remote mirror), Pulp won't be able
# to auto-resolve these RPMs to the best available versions or obey
# constraints.  Make sure these are kept these up to date with new releases!
#
puppet:
  url: http://yum.puppet.com/puppet6/el/8/x86_64/ # Not used to mirror
  pulp_remote_options:
    policy: on_demand
  # Versions last updated: 2021/05/18
  rpms:
  - name: puppet-agent
    direct_url: http://yum.puppet.com/puppet6/el/8/x86_64/puppet-agent-6.22.1-1.el8.x86_64.rpm
  - name: puppet-bolt
    direct_url: https://yum.puppet.com/puppet6/el/8/x86_64/puppet-bolt-3.8.1-1.el8.x86_64.rpm
  - name: puppet6-release
    direct_url: http://yum.puppet.com/puppet6/el/8/x86_64/puppet6-release-6.0.0-14.el8.noarch.rpm
  - name: puppetdb
    direct_url: http://yum.puppet.com/puppet6/el/8/x86_64/puppetdb-6.16.1-1.el8.noarch.rpm
  - name: puppetdb-termini
    direct_url: http://yum.puppet.com/puppet6/el/8/x86_64/puppetdb-termini-6.16.1-1.el8.noarch.rpm
  - name: puppetserver
    direct_url: http://yum.puppet.com/puppet6/el/8/x86_64/puppetserver-6.15.3-1.el8.noarch.rpm
baseos:
  url: http://mirror.centos.org/centos/8/BaseOS/x86_64/os/
  rpms:
  - name: NetworkManager # depends on baseos: NetworkManager-libnm, libndp
  - name: centos-indexhtml
  - name: centos-logos
  - name: centos-logos-httpd
  - name: centos-obsolete-packages
  - name: systemd
  - name: selinux-policy-targeted
  - name: setools-console
  - name: quota
  - name: readline
  - name: readline-devel
  - name: rsync
  - name: rsync
  - name: rpm-apidocs
  - name: rpm-build-libs
  - name: rpm-cron
  - name: rpm-devel
  - name: rpm-devel
  - name: rpm-libs
  - name: rpm-plugin-ima
  - name: rpm-plugin-prioreset
  - name: rpm-plugin-selinux
  - name: rpm-plugin-syslog
  - name: rpm-plugin-systemd-inhibit
  - name: rpm-sign



appstream:
  url: http://mirror.centos.org/centos/8/AppStream/x86_64/os/
  rpms:
  - name: 389-ds-base # depends on lots of things from baseos: cracklib-dicts,selinux-policy +
  - name: centos-backgrounds
  - name: centos-logos-ipa
  - name: vim-enhanced
  - name: rpm-build
  - name: rpm-mpi-hooks
  - name: rpm-ostree
  - name: rpm-ostree-libs
  - name: rpm-ostree-libs
  - name: httpd
  - name: nodejs # FIXME for testing; remove later
    version: '~> 10.0'
      # NOTE without version constraints, installs 13 (latest module)


extras:
  url: http://mirror.centos.org/centos/8/extras/x86_64/os/
  rpms:
  - name: centos-release-advanced-virtualization
  - name: centos-release-ansible-29
  - name: centos-release-ceph-nautilus
  - name: centos-release-ceph-octopus
  - name: centos-release-ceph-pacific
  - name: centos-release-configmanagement
  - name: centos-release-gluster6
  - name: centos-release-gluster7
  - name: centos-release-gluster8
  - name: centos-release-gluster9
  - name: centos-release-messaging
  - name: centos-release-nfs-ganesha28
  - name: centos-release-nfs-ganesha30
  - name: centos-release-nfv-common
  - name: centos-release-nfv-extras
  - name: centos-release-nfv-openvswitch
  - name: centos-release-openstack-train
  - name: centos-release-openstack-ussuri
  - name: centos-release-openstack-victoria
  - name: centos-release-opstools
  - name: centos-release-ovirt44
  - name: centos-release-qpid-proton
  - name: centos-release-rabbitmq-38
  - name: centos-release-samba411
  - name: centos-release-samba412
  - name: centos-release-samba413
  - name: centos-release-samba414
  - name: centos-release-storage-common
  - name: centos-release-stream
  - name: centos-release-virt-common
  - name: centos-stream-repos

epel:
  url: https://download.fedoraproject.org/pub/epel/8/Everything/x86_64/
  rpms:
  - name: htop        # no deps
  - name: vim-ansible # depends on appstream: vim-filesystem

epel-modular:
  url: https://dl.fedoraproject.org/pub/epel/8/Modular/x86_64/
  rpms:
  # depends on:
  #    baseos:       crypto-policies-scripts, libevent, perl-libs, +
  #    appstream:    python3-bind, nss, bind-libs, perl-Mozilla-LDAP +
  #  @ epel-modular: 389-ds-base-libs
  #
  # modularity info
  #    - only exists in 389-directory-server:stable (epel-modular)
  #
  - name: 389-ds-base-legacy-tools

  # depends on:
  #    baseos:       crypto-policies-scripts, libevent, perl-libs, +
  #    appstream:    python3-bind, nss, bind-libs, perl-Mozilla-LDAP +
  #  @ epel-modular: 389-ds-base-libs
  #
  # modularity info
  #  provided by:
  #    - 389-directory-server:stable (epel-modular)
  #    - 389-directory-server:stable (epel-modular)
  #    - 389-directory-server:stable (epel-modular)
  #    - 389-directory-server:stable (epel-modular)
  #
  #  depends on modules (:stable):
  #    perl:5.26, perl-IO-Socket-SSL:2.066, perl-libwww-perl:6.34
  - name: 389-ds-base


postgresql:
  url: https://download.postgresql.org/pub/repos/yum/9.6/redhat/rhel-7-x86_64/
  rpms:
    # Copied from EL7 packages FIXME: verify with EL8
  - name: postgresql96
  - name: postgresql96-contrib
  - name: postgresql96-libs
  - name: postgresql96-server

### FIXME: requires updated repository
### simp:
###   # FIXME: using /unstable/ during 6.6.0 EL8 development; change to latest when ready to release:
###   #
###   #   url: https://download.simp-project.com/SIMP/yum/releases/latest/el/8Server/x86_64/simp/
###   #
###   url: https://download.simp-project.com/SIMP/yum/unstable/simp6/el/8Server/x86_64/simp/
###   rpms:
###   - name: HIRS_Provisioner_TPM_1_2
###   - name: HIRS_Provisioner_TPM_2_0
###   - name: chkrootkit
###   - name: paccor
###   - name: simp-lastbind
###   - name: simp-ppolicy-check-password
###   - name: simp-tpm12-simulator
###   - name: simp-tpm2-simulator
###   - name: simp-vendored-r10k
###   - name: simp-vendored-r10k-doc
###   - name: simp-vendored-r10k-gem-colored
###   - name: simp-vendored-r10k-gem-cri
###   - name: simp-vendored-r10k-gem-faraday
###   - name: simp-vendored-r10k-gem-faraday_middleware
###   - name: simp-vendored-r10k-gem-fast_gettext
###   - name: simp-vendored-r10k-gem-gettext
###   - name: simp-vendored-r10k-gem-gettext-setup
###   - name: simp-vendored-r10k-gem-locale
###   - name: simp-vendored-r10k-gem-log4r
###   - name: simp-vendored-r10k-gem-minitar
###   - name: simp-vendored-r10k-gem-multi_json
###   - name: simp-vendored-r10k-gem-multipart-post
###   - name: simp-vendored-r10k-gem-puppet_forge
###   - name: simp-vendored-r10k-gem-r10k
###   - name: simp-vendored-r10k-gem-semantic_puppet
###   - name: simp-vendored-r10k-gem-text
###   - name: sudosh2
###   - name: tlog
###   - name: tpm_module
###   # Missing from first cut
###   - name: pupmod-aboe-chrony
###   - name: pupmod-camptocamp-kmod
###   - name: pupmod-camptocamp-systemd
###   - name: pupmod-herculesteam-augeasproviders_core
###   - name: pupmod-herculesteam-augeasproviders_grub
###   - name: pupmod-herculesteam-augeasproviders_ssh
###   - name: pupmod-herculesteam-augeasproviders_sysctl
###   - name: pupmod-onyxpoint-gpasswd
###   - name: pupmod-puppet-firewalld
###   - name: pupmod-puppet-gitlab
###   - name: pupmod-puppetlabs-apache
###   - name: pupmod-puppetlabs-concat
###   - name: pupmod-puppetlabs-hocon
###   - name: pupmod-puppetlabs-inifile
###   - name: pupmod-puppetlabs-java
###   - name: pupmod-puppetlabs-motd
###   - name: pupmod-puppetlabs-mysql
###   - name: pupmod-puppetlabs-postgresql
###   - name: pupmod-puppetlabs-puppet_authorization
###   - name: pupmod-puppetlabs-puppetdb
###   - name: pupmod-puppetlabs-ruby_task_helper
###   - name: pupmod-puppetlabs-stdlib
###   - name: pupmod-puppetlabs-translate
###   - name: pupmod-puppet-posix_acl
###   - name: pupmod-puppet-snmp
###   - name: pupmod-puppet-yum
###   - name: pupmod-saz-locales
###   - name: pupmod-saz-timezone
###   - name: pupmod-simp-acpid
###   - name: pupmod-simp-aide
###   - name: pupmod-simp-at
###   - name: pupmod-simp-auditd
###   - name: pupmod-simp-autofs
###   - name: pupmod-simp-chkrootkit
###   - name: pupmod-simp-clamav
###   - name: pupmod-simp-compliance_markup
###   - name: pupmod-simp-cron
###   - name: pupmod-simp-crypto_policy
###   - name: pupmod-simp-dconf
###   - name: pupmod-simp-deferred_resources
###   - name: pupmod-simp-dhcp
###   - name: pupmod-simp-fips
###   - name: pupmod-simp-freeradius
###   - name: pupmod-simp-gdm
###   - name: pupmod-simp-gnome
###   - name: pupmod-simp-haveged
###   - name: pupmod-simp-hirs_provisioner
###   - name: pupmod-simp-ima
###   - name: pupmod-simp-incron
###   - name: pupmod-simp-iptables
###   - name: pupmod-simp-issue
###   - name: pupmod-simp-krb5
###   - name: pupmod-simp-libreswan
###   - name: pupmod-simp-libvirt
###   - name: pupmod-simp-logrotate
###   - name: pupmod-simp-mate
###   - name: pupmod-simp-mozilla
###   - name: pupmod-simp-named
###   - name: pupmod-simp-network
###   - name: pupmod-simp-nfs
###   - name: pupmod-simp-ntpd
###   - name: pupmod-simp-oath
###   - name: pupmod-simp-oddjob
###   - name: pupmod-simp-openscap
###   - name: pupmod-simp-pam
###   - name: pupmod-simp-pki
###   - name: pupmod-simp-polkit
###   - name: pupmod-simp-postfix
###   - name: pupmod-simp-pupmod
###   - name: pupmod-simp-resolv
###   - name: pupmod-simp-rkhunter
###   - name: pupmod-simp-rsync
###   - name: pupmod-simp-rsyslog
###   - name: pupmod-simp-selinux
###   - name: pupmod-simp-simp
###   - name: pupmod-simp-simp_apache
###   - name: pupmod-simp-simp_banners
###   - name: pupmod-simp-simp_bolt
###   - name: pupmod-simp-simp_firewalld
###   - name: pupmod-simp-simp_gitlab
###   - name: pupmod-simp-simp_grub
###   - name: pupmod-simp-simp_ipa
###   - name: pupmod-simp-simpkv
###   - name: pupmod-simp-simplib
###   - name: pupmod-simp-simp_nfs
###   - name: pupmod-simp-simp_openldap
###   - name: pupmod-simp-simp_options
###   - name: pupmod-simp-simp_pki_service
###   - name: pupmod-simp-simp_rsyslog
###   - name: pupmod-simp-simp_snmpd
###   - name: pupmod-simp-ssh
###   - name: pupmod-simp-sssd
###   - name: pupmod-simp-stunnel
###   - name: pupmod-simp-sudo
###   - name: pupmod-simp-sudosh
###   - name: pupmod-simp-svckill
###   - name: pupmod-simp-swap
###   - name: pupmod-simp-tcpwrappers
###   - name: pupmod-simp-tftpboot
###   - name: pupmod-simp-tlog
###   - name: pupmod-simp-tpm
###   - name: pupmod-simp-tpm2
###   - name: pupmod-simp-tuned
###   - name: pupmod-simp-upstart
###   - name: pupmod-simp-useradd
###   - name: pupmod-simp-vnc
###   - name: pupmod-simp-vox_selinux
###   - name: pupmod-simp-vsftpd
###   - name: pupmod-simp-x2go
###   - name: pupmod-simp-xinetd
###   - name: pupmod-treydock-kdump
###   - name: pupmod-trlinkin-nsswitch
###   - name: rubygem-simp-cli
###   - name: rubygem-simp-cli-doc
###   - name: rubygem-simp-cli-highline
###   - name: simp
###   - name: simp-adapter
###   - name: simp-doc
###   - name: simp-environment-skeleton
###   - name: simp-extras
###   - name: simp-gpgkeys
###   - name: simp-rsync
###   - name: simp-rsync-skeleton
###   - name: simp-selinux-policy
###   - name: simp-utils
